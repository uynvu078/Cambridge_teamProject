{% extends "base.html" %}
{% load static %}
{% block title %}Select a Form{% endblock %}
{% block content %}

<div class="mt-5 text-center">
    <h2 class="mb-4">Choose a Form to Fill Out</h2>

    <p class="text-muted">
        Select a form to <strong>fill and download</strong>, or <strong>view the blank version</strong> before filling.  
        Once completed, <strong>upload your filled form</strong> for approval.
    </p>

    <div class="row justify-content-center mt-4">
        <!-- Posthumous Degree Form -->
        <div class="col-md-5 mb-4">
            <div class="p-4 border rounded shadow-sm bg-light">
                <h5 class="text-primary"><i class="fas fa-graduation-cap"></i> Posthumous Degree Form</h5>
                
                <a class="btn btn-primary w-100 mt-2" href="{% url 'generate_latex_form' 'posthumous_degree' %}" target="_blank">
                    <i class="fas fa-download"></i> Fill & Download (LaTeX)
                </a>                
                
                <a class="btn btn-outline-primary w-100 mt-2" href="{% static 'pdf_forms/form_a.pdf' %}" target="_blank">
                    <i class="fas fa-eye"></i> View Blank Form
                </a>

                <!-- Upload Form -->
                <form method="post" action="{% url 'upload_filled_pdf' 'posthumous_degree' %}" enctype="multipart/form-data" class="mt-2">
                    {% csrf_token %}
                    <div class="input-group">
                        <input type="file" name="filled_pdf" accept="application/pdf" required class="form-control">
                        <button type="submit" class="btn btn-success"><i class="fas fa-upload"></i> Upload & Submit</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Term Withdrawal Form -->
        <div class="col-md-5 mb-4">
            <div class="p-4 border rounded shadow-sm bg-light">
                <h5 class="text-secondary"><i class="fas fa-file-alt"></i> Term Withdrawal Form</h5>
                
                <a class="btn btn-secondary w-100 mt-2" href="{% url 'generate_latex_form' 'term_withdrawal' %}" target="_blank">
                    <i class="fas fa-download"></i> Fill & Download (LaTeX)
                </a>
                
                <a class="btn btn-outline-secondary w-100 mt-2" href="{% static 'pdf_forms/form_b.pdf' %}" target="_blank">
                    <i class="fas fa-eye"></i> View Blank Form
                </a>

                <!-- Upload Form -->
                <form method="post" action="{% url 'upload_filled_pdf' 'term_withdrawal' %}" enctype="multipart/form-data" class="mt-2">
                    {% csrf_token %}
                    <div class="input-group">
                        <input type="file" name="filled_pdf" accept="application/pdf" required class="form-control">
                        
                        <button type="submit" class="btn btn-success"><i class="fas fa-upload"></i> Upload & Submit</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- View Submitted Forms and Back to Dashboard Buttons -->
    <div class="mt-4 d-flex flex-column align-items-center">
        <a href="{% url 'submitted_forms' %}" class="btn btn-warning px-4 py-2 fw-bold">
            <i class="fas fa-folder-open"></i> View Submitted Forms
        </a>
        <a href="{% url 'dashboard' %}" class="btn btn-secondary px-4 py-2 fw-bold mt-2">
            ⬅️ Back to Dashboard
        </a>
    </div>

</div>

{% endblock %}
